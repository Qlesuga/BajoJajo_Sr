const BANNED = [
  "nigga",
  "nigger",
  "czarnuch",
  "murzyn",
  "cwel",
  "pedaÅ‚",
  "incel",
  "simp",
  "virgin",
  "ciota",
  "incel",
  "kys",
  "kms",
  "onlyfans",
  "anal",
  "fag",
  "nood",
  "gay",
];

const charSubstitutions = {
  a: "aÐ°áº¡Ä…Ã¤Ã Ã¡á´€â‚áµƒAÎ‘Î‘Ì‡ÐáŽªá—…ê“®ê“¯ï¼¡ðŠ ð€ð´ð‘¨ð’œð“ð”„ð”¸ð•¬ð– ð—”ð˜ˆð˜¼ð™°ðš¨ð›¢ðœœð–ðžá´¬ÂªÉ‘ÇŸê¬±@",
  b: "bÆ…áµ‡áµ¦BÆÎ’Ð’á´á¼á—·á›’â„¬ê“êž´ï¼¢á´®",
  c: "cÑÆˆÄ‹á´„áµ“á¶œCÏ¹Ð¡áŸð•á‘•â„‚â„­â¸¦ê“šï¼£ðŠ¢ðŒ‚â†„É”êœ¾",
  d: "dÔÉ—á¶êºáµˆDáŽ á—žá—ªá´…â……â…®ê““ï¼¤á´°",
  e: "eÐµáº¹Ä—Ã©Ã¨â‚‘áµ‰EÎ•Ð•áŽ¬â´¹ê“°ï¼¥ð‘¢®á´±É›É‡ê¬²",
  f: "fá¶ FÏœá–´â„±ê“êž˜ï¼¦ðŠ‡ðŠ¥êœ°",
  g: "gÄ¡É¡Öá¶ƒÇ¥ÇµáµGâ„Šâ…ê“–ï¼§á´³ÖÇµÇ¥",
  h: "hÒ»Ê°HÎ—ÐáŽ»á‚â„‹â„Œê“§ï¼¨á´´",
  i: "iÑ–Ã­Ã¯â±áµ¢Iâ… â… â…¼ä¸¨Î¹â„â„‘âˆ£â³â²’âµê“²á´µ1!",
  j: "jÑ˜ÊÏ³Ê²JÐˆá´Šêž²ï¼ªá´¶",
  k: "kÎºáµKÎšÐšá›•â²”ê“—ï¼«á´·Ä¸ê",
  l: "lÓá¸·Ë¡Lâ… â…¼â„“âˆ£â½â²’âµê“²á´¸",
  m: "máµMÎœÐœá´â„³êŸ½â²˜ê“Ÿï¼­á´¹É±êŸ¿",
  n: "nÕ¸â¿â‚™NÎÕ†á´Žâ„•ê“ ï¼®á´ºÅ‹É´êžƒ",
  o: "oÐ¾Î¿Ö…È¯á»á»Æ¡Ã³Ã²Ã¶áµ’Âº0OÎŸÐžÕ•à¥¦ê“³ã€‡â²žâ²Ÿï¼¯á´¼",
  p: "pÑ€áµ–PÎ¡Ð â„™â²¢ê“‘ï¼°á´¾",
  q: "qÕ¦Ô›É‹Ê áµ Qâ„šê–ï¼±",
  r: "rÐ³á´¦Ê³RÎ“â„›â²¢ê“£ï¼²á´¿É¼Êê›",
  s: "sÊ‚Ë¢SÐ…êš‚ê™„ê™…â´‘ï¼³êœ±Å¿êž©",
  t: "tÏ„êš‹áµ—TÎ¤Ð¢á´›â²¦ê“”ï¼´áµ€Å§Êˆêž‡",
  u: "uÏ…Õ½Ã¼ÃºÃ¹áµ˜áµ¤Uâˆªð•Œð–€ê“´ï¼µáµÎ¼Ï…á´œ",
  v: "vÎ½Ñµá´ êŸáµ›Vâˆ¨ð–ê“¦ï¼¶â±½ÊŒÊ‹",
  w: "wÑ¡ÔÊ·Wá´¡ê“ªï¼·áµ‚É¯Ï‰ê¡",
  x: "xÑ…Ò³áº‹Ë£XÃ—â¤«â¤¬â¨¯ê“«ï¼¸",
  y: "yÑƒÃ½Ê¸YÎ¥Ò®É£ê“¬ï¼¹",
  z: "zÊÅ¼Æ¶á¶»Zâ„¤ê“œï¼º",
  "0": "0OoÎŸÎ¿ÐžÐ¾Õ•ã€‡ê“³â²žâ²Ÿï¼¯ðŸŽðŸ˜ðŸ¢ðŸ¬âˆ…âŒ€â“ª",
  "1": "1IlÉªï½œÇ€â… â…¼âˆ£ðŸðŸ™ðŸ£ðŸ­á§šð„‡",
  "2": "2Æ§Ï¨á’¿ê™„ðŸðŸšðŸ¤ðŸ®Â²á’¿Â²áª‚",
  "3": "3Æ·ÈœÐ—Ó ðŸ‘ðŸ›ðŸ¥ðŸ¯Â³Ç«Ê’ê£“",
  "4": "4áŽï¼”ðŸ’ðŸœðŸ¦ðŸ°áª„á¥Š",
  "5": "5Æ¼ï¼•ðŸ“ðŸðŸ§ðŸ±Æ½á¥‹",
  "6": "6Ð±á®â³’ï¼–ðŸ”ðŸžðŸ¨ðŸ²",
  "7": "7ð“’ï¼—ðŸ•ðŸŸðŸ©ðŸ³ðŒ£ð“",
  "8": "8È¢È£à§®ï¼˜ðŸ–ðŸ ðŸªðŸ´ê£˜",
  "9": "9à§­â³Šï¼™ðŸ—ðŸ¡ðŸ«ðŸµÕ£ê£™",
};

function createBannedStringRegex(bannedList: string[]) {
  const patterns = bannedList.map((word) => {
    let pattern = "";

    for (const char of word.toLowerCase()) {
      if (charSubstitutions[char]) {
        pattern += charSubstitutions[char];
      } else {
        pattern += `[${char}${char.toUpperCase()}]`;
      }

      pattern += "[\\s\\W]*";
    }

    pattern = pattern.replace(/\[\\s\\W\]\*$/, "");

    return pattern;
  });

  return new RegExp(patterns.join("|"), "i");
}

export function containsBannedString(input: string) {
  const regex = createBannedStringRegex(BANNED);
  return regex.test(input);
}
